datasource db {
  provider = "postgresql"  // Change from "sqlite"
  url      = env("POSTGRES_PRISMA_URL")  // Change from DATABASE_URL
}

generator client {
  provider = "prisma-client-js"
}

// Keep all your models exactly as they are
model Payment {
  id              String   @id @default(cuid())
  uetr            String   @unique
  rail            String
  amount          Float
  currency        String
  debtorName      String
  debtorAccount   String
  creditorName    String
  creditorAccount String
  purpose         String?
  remittance      String?
  status          String   @default("CREATED")
  pain001Xml      String?
  pacs008Xml      String?
  createdAt       DateTime @default(now())
  events          Event[]
}

model Event {
  id          String   @id @default(cuid())
  paymentId   String
  type        String
  description String
  metadata    String?
  createdAt   DateTime @default(now())
  payment     Payment  @relation(fields: [paymentId], references: [id], onDelete: Cascade)
  @@index([paymentId])
}
